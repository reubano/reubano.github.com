extends base
include _mixins/navbar
include _mixins/aside
include _mixins/utils

block nav
  +navbar(projects.name)

block title
  include _partials/title

block content
  - var postdate = format_date(page.date, 'MMM D, YYYY')
  - var month = format_date(page.date, 'MM')
  - var href = archive.name + '/' + page.date.getFullYear() + '/' + month

  ul.breadcrumb
    li.non-mobile
      a(href=site.url)= site.title

    li
      a(href=url_for(projects.name))= projects.title

    li= page.title

  article.article(itemscope itemtype='http://schema.org/Article')
    h2.non-mobile(itemprop='name')= page.title

    p.small(itemprop='datePublished', content=page.date.toISOString())
      | developed by #{site.author} on&nbsp;
      a(href=url_for(href))= postdate
      |&nbsp;in #{page.language || 'n/a'}

    if page.description
      pullquote!= page.description

    .content(itemprop='articleBody')
      != page.less

    include _partials/project-meta

    .tags
      +list-tags(page.tags)

    footer.article-footer
      include _partials/post-updated
      include _partials/post-nav

block aside
  aside
    +get-related(projects.count)
    +get-featured(projects, projects.count)
    +get-recent(projects, projects.count)
