extends base
include _mixins/aside

block nav
  +navbar(site.name)

block content
  #intro
    - var srcset = get_srcset('pycon', {ext: 'png', source: 'local'})
    - var src = get_src('pycon', null, {ext: 'png', source: 'local'})
    - var img_sizes = '(min-width: 640px) 33vw, 100vw'

    img(class='cover logo', title=site.author, sizes=img_sizes, srcset=srcset, src=src, alt=site.author)

    .text
      .title
        h1= site.title
        p= site.subtitle

      div(class='non-hd one-col')
        include _partials/index-text

      div(class='hd two-cols')
        include _partials/index-text

  #podium.non-desktop
    .mobile
      h2
        a(href=url_for('podium')) podium

      include _partials/upcoming

      div
        +get-featured(podium)

    .tablet
      include _partials/upcoming

    .lapdesk
      h2
        a(href=url_for('podium')) podium

      include _partials/upcoming

      div
        +get-featured(podium)

  #categories
    each category in collections
      if category.show
        div(class='category category-' + category.name)
          if category.name === 'podium'
            .tablet
              h2
                a(href=url_for(category.name))= category.name

              +get-featured(category)

            .desktop
              h2
                a(href=url_for(category.name))= category.name

              +get-featured(category)
              +get-recent(category, category.count, category.filterby)
          else if category.name === 'gallery'
            h2
              a(href=url_for(category.name))= category.name

            +get-featured(category)

            .lapdesk
              +get-recent(category, category.count, category.filterby)
          else
            h2
              a(href=url_for(category.name))= category.name

            +get-featured(category)

            .laptop
              +get-recent(category, category.count, category.filterby)

  div(id='about', class='about-home non-hd')
    include _partials/about

  #photos.hd
    div(class='category category-gallery')
      h2
        a(href=url_for('gallery')) recent gallery photos

      +get-recent(gallery, 8)

block alt
  section#alt.alt
    .container
      each category in collections
        if category.show
          - var name = category.name
          .category
            a(href=url_for(name), class='btn block full non-tablet') view #{name}â€¦
            a(href=url_for(name), class='btn block abbrv tablet') #{name}
